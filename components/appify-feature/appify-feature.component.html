<div
    id="container"
    [style.padding-left]="
    width == featureWidthValue.full
        ? style?.padding?.left
            ? style?.padding?.left + 'px'
            : ''
        : '0'
"
[style.padding-right]="
    width == featureWidthValue.full
        ? style?.padding?.right
            ? style?.padding?.right + 'px'
            : ''
        : '0'
" [style.padding-top]=" style?.padding?.top ? style?.padding?.top + 'px' : ''"
    [style.padding-bottom]="style?.padding?.bottom ? style?.padding?.bottom + 'px' : '' "
    [class.margin-width]="width == featureWidthValue.margin"
    [style.backgroundColor]="
        style?.background_color ? style?.background_color : ''
    "
    [style.backgroundImage]="
        style?.background_image
            ? 'url(' +
              pageService.getImageMapResource(style?.background_image) +
              ')'
            : ''
    "
    [style.backgroundSize]="
        style?.background_size ? style?.background_size : ''
    "
    [style.backgroundRepeat]="
        style?.background_repeat ? style?.background_repeat : ''
    "
    [style.backgroundPosition]="
        style?.background_position ? style?.background_position : ''
    "
    #animate
    [class.initial-slideup-state]="animation?.type == 'slideUp' ? true : false"
    [class.initial-slideupfadein-state]="
        animation?.type == 'glide_up' ? true : false
    "
    [class.initial-fadein-state]="animation?.type == 'fade_in' ? true : false"
>
    <div
        class="row feature-container"
        
        [class.vertical-align-top]="
            verticalAlignment == featureVerticalAlignmentValue.top
        "
        [class.vertical-align-middle]="
            verticalAlignment == featureVerticalAlignmentValue.middle
        "
        [class.vertical-align-bottom]="
            verticalAlignment == featureVerticalAlignmentValue.bottom
        "
    >
        <div
            *ngIf="featureAlignment == featureAlignmentValue.left"
            class="col-md-6 col-sm-12 col-12 left-align-inner"
            [class.full-width]="width == featureWidthValue.full"
        >
            <img [src]="pageService.getImageMapResource(imageURL)"
                [style.border-radius]="style?.corner_radius ? style?.corner_radius + 'px' : ''" />

                <div *ngIf="isEditing" class="replace-button">
                    <codeless-replace-image-button (didStartUpload)="isUploadingImage = true;" (didUploadImage)="changeImage(0, $event)"></codeless-replace-image-button>
                </div>

                <codeless-loading-view *ngIf="isUploadingImage"></codeless-loading-view>
        </div>

        <div
            class="text-container col-md-6 col-sm-12"
            [class.left-align-inner]="
                featureAlignment == featureAlignmentValue.left
            "
            [class.right-align-inner]="
                featureAlignment == featureAlignmentValue.right
            "
            [style.padding-left]="
                width == featureWidthValue.full
                    ? style?.padding?.left
                        ? style?.padding?.left + 'px'
                        : ''
                    : '0'
            "
            [style.padding-right]="
                width == featureWidthValue.full
                    ? style?.padding?.right
                        ? style?.padding?.right + 'px'
                        : ''
                    : '0'
            "
        >
            <caption
                *ngIf="!isEditing"
                class="label-s"
                [innerHTML]="getHTMLFrom(title)"
                [style.color]="style?.heading?.color ? style?.heading?.color : ''"
                [style.fontFamily]="style?.heading?.font ? style?.heading?.font : ''"
                [style.fontSize]="style?.heading?.size ? style?.heading?.size + 'px' : ''"
                [style.fontWeight]="style?.heading?.weight ? style?.heading?.weight : ''"
                [style.lineHeight]="style?.heading?.line_height ? style?.heading?.line_height + 'px' : ''"
                [style.letter-spacing]="style?.heading?.letter_spacing ? style?.heading?.letter_spacing + 'px' : ''"
            >
            </caption>

                <div *ngIf="isEditing" style="position: relative;">
                    <div *ngIf="isEditingHeadingValue && title.length" style="position: absolute; top: -26px; left: 0;">
                        <div class="editing-textarea-tag">
                            Heading
                        </div>
                    </div>

                    <textarea type="text" 
                        textareaAutoresize
                        *ngIf="isEditing && title.length"
                        [(ngModel)]="title" 
                        (input)="title = $event.target.value"
                        (focus)="isEditingHeadingValue = true;"
                        (blur)="emitBlockSelect(0, 'heading', $event.target.value); isEditingHeadingValue = false;"
                        class="label-s"
                        [style.color]="style?.heading?.color ? style?.heading?.color : ''"
                        [style.fontFamily]="style?.heading?.font ? style?.heading?.font : ''"
                        [style.fontSize]="style?.heading?.size ? style?.heading?.size + 'px' : ''"
                        [style.fontWeight]="style?.heading?.weight ? style?.heading?.weight : ''"
                        [style.lineHeight]="style?.heading?.line_height ? style?.heading?.line_height + 'px' : ''"
                        [style.letter-spacing]="style?.heading?.letter_spacing ? style?.heading?.letter_spacing + 'px' : ''"
                    ></textarea>
                </div>

            <div class="vertical-item-spacing-small"></div>

            <h3
                *ngIf="!isEditing"
                class="headline-m"
                [innerHTML]="getHTMLFrom(subtitle)"
                [style.color]="style?.subtitle?.color ? style?.subtitle?.color : ''"
                [style.fontFamily]="style?.subtitle?.font ? style?.subtitle?.font : ''"
                [style.fontSize]="style?.subtitle?.size ? style?.subtitle?.size + 'px' : ''"
                [style.fontWeight]="style?.subtitle?.weight ? style?.subtitle?.weight : ''"
                [style.lineHeight]="style?.subtitle?.line_height ? style?.subtitle?.line_height + 'px' : ''"
                [style.letter-spacing]="style?.subtitle?.letter_spacing ? style?.subtitle?.letter_spacing + 'px' : ''"
            >
            </h3>

                <div *ngIf="isEditing" style="position: relative;">
                    <div *ngIf="isEditingSubtitleValue && subtitle.length" style="position: absolute; top: -26px; left: 0;">
                        <div class="editing-textarea-tag">
                            Subtitle
                        </div>
                    </div>

                    <textarea type="text" 
                        textareaAutoresize
                        *ngIf="isEditing && subtitle.length"
                        [(ngModel)]="subtitle" 
                        (input)="subtitle = $event.target.value"
                        (focus)="isEditingSubtitleValue = true;"
                        (blur)="emitBlockSelect(0, 'subtitle', $event.target.value); isEditingSubtitleValue = false;"
                        class="headline-m"
                        [style.color]="style?.subtitle?.color ? style?.subtitle?.color : ''"
                        [style.fontFamily]="style?.subtitle?.font ? style?.subtitle?.font : ''"
                        [style.fontSize]="style?.subtitle?.size ? style?.subtitle?.size + 'px' : ''"
                        [style.fontWeight]="style?.subtitle?.weight ? style?.subtitle?.weight : ''"
                        [style.lineHeight]="style?.subtitle?.line_height ? style?.subtitle?.line_height + 'px' : ''"
                        [style.letter-spacing]="style?.subtitle?.letter_spacing ? style?.subtitle?.letter_spacing + 'px' : ''"
                    ></textarea>
                </div>

            <div class="vertical-item-spacing"></div>

            <p
                *ngIf="!isEditing"
                class="body-m"
                [innerHTML]="getHTMLFrom(body)"
                [style.color]="style?.paragraph?.color ? style?.paragraph?.color : ''"
                [style.fontFamily]="style?.paragraph?.font ? style?.paragraph?.font : ''"
                [style.fontSize]="style?.paragraph?.size ? style?.paragraph?.size + 'px' : ''"
                [style.fontWeight]="style?.paragraph?.weight ? style?.paragraph?.weight : ''"
                [style.lineHeight]="style?.paragraph?.line_height ? style?.paragraph?.line_height + 'px' : ''"
                [style.letter-spacing]="style?.paragraph?.letter_spacing ? style?.paragraph?.letter_spacing + 'px' : ''"
            >

        </p>

                <div *ngIf="isEditing" style="position: relative;">
                    <div *ngIf="isEditingBodyValue && body.length" style="position: absolute; top: -26px; left: 0;">
                        <div class="editing-textarea-tag">
                            Body
                        </div>
                    </div>

                    <textarea type="text" 
                        textareaAutoresize
                        *ngIf="isEditing && body.length"
                        [(ngModel)]="body" 
                        (input)="body = $event.target.value"
                        (focus)="isEditingBodyValue = true;"
                        (blur)="emitBlockSelect(0, 'paragraph', $event.target.value); isEditingBodyValue = false;"
                        class="body-m"
                        [style.color]="style?.paragraph?.color ? style?.paragraph?.color : ''"
                        [style.fontFamily]="style?.paragraph?.font ? style?.paragraph?.font : ''"
                        [style.fontSize]="style?.paragraph?.size ? style?.paragraph?.size + 'px' : ''"
                        [style.fontWeight]="style?.paragraph?.weight ? style?.paragraph?.weight : ''"
                        [style.lineHeight]="style?.paragraph?.line_height ? style?.paragraph?.line_height + 'px' : ''"
                        [style.letter-spacing]="style?.paragraph?.letter_spacing ? style?.paragraph?.letter_spacing + 'px' : ''"
                    ></textarea>
                </div>

            <div class="vertical-item-spacing"></div>

            <div>
                <appify-button
                    [title]="buttonText"
                    [style]="style?.button"
                    [padding]="buttonPadding"
                    [alignment]="featureAlignment"
                    (selected)="clickButton()"
                ></appify-button>
            </div>
        </div>

        <div
            *ngIf="featureAlignment == featureAlignmentValue.right"
            class="col-md-6 col-sm-12 col-12 right-align-inner"
            [class.full-width]="width == featureWidthValue.full"
        >
            <img
                [src]="pageService.getImageMapResource(imageURL)"
                [style.border-radius]="
                    style?.corner_radius ? style?.corner_radius + 'px' : ''
                "
            />
        </div>
    </div>
</div>
